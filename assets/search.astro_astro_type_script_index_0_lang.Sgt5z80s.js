const T="modulepreload",B=function(e){return"/"+e},L={},I=function(o,r,g){let t=Promise.resolve();if(r&&r.length>0){let l=function(a){return Promise.all(a.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),b=i?.nonce||i?.getAttribute("nonce");t=l(r.map(a=>{if(a=B(a),a in L)return;L[a]=!0;const d=a.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${f}`))return;const c=document.createElement("link");if(c.rel=d?"stylesheet":T,d||(c.as="script"),c.crossOrigin="",c.href=a,b&&c.setAttribute("nonce",b),document.head.appendChild(c),d)return new Promise((w,P)=>{c.addEventListener("load",w),c.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${a}`)))})}))}function s(l){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=l,window.dispatchEvent(i),!i.defaultPrevented)throw l}return t.then(l=>{for(const i of l||[])i.status==="rejected"&&s(i.reason);return o().catch(s)})},u=document.getElementById("search-input"),E=document.getElementById("search-results"),h=document.getElementById("search-loading"),n=document.getElementById("results-container"),y=document.getElementById("no-results"),x=document.getElementById("popular-searches"),k=document.querySelectorAll(".filter-btn"),_=document.querySelectorAll(".search-suggestion");let p="all",S,m;async function $(){try{m=await I(()=>import("/pagefind/pagefind.js"),[]),m.init()}catch{console.error("Pagefind not found. Search will be unavailable until site is built.")}}$();async function v(e){if(!e.trim()){E?.classList.add("hidden"),x?.classList.remove("hidden");return}clearTimeout(S),x?.classList.add("hidden"),E?.classList.remove("hidden"),h?.classList.remove("hidden"),n?.classList.add("hidden"),y?.classList.add("hidden"),S=setTimeout(async()=>{if(!m){h?.classList.add("hidden"),n&&(n.innerHTML='<div class="text-center text-gray-500">Search index not available in dev mode. Build the site to test search.</div>',n.classList.remove("hidden"));return}const o=await m.search(e),g=(await Promise.all(o.results.map(t=>t.data()))).filter(t=>{let s="page";return t.url.includes("/blog/")?s="blog":t.url.includes("/portfolio/")?s="portfolio":t.url.includes("/resources/")&&(s="resources"),p==="all"||s===p});h?.classList.add("hidden"),n?.classList.remove("hidden"),g.length===0?(n&&(n.innerHTML=""),y?.classList.remove("hidden")):(y?.classList.add("hidden"),n&&(n.innerHTML=g.map(t=>{let s="page";return t.url.includes("/blog/")?s="blog":t.url.includes("/portfolio/")?s="portfolio":t.url.includes("/resources/")&&(s="resources"),`
              <div class="bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700 opacity-0 animate-fade-in">
                <div class="flex items-start justify-between mb-2">
                  <h3 class="font-semibold text-lg">
                    <a href="${t.url}" class="text-blue-600 dark:text-blue-400 hover:underline">${t.meta.title}</a>
                  </h3>
                  <span class="px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-xs rounded capitalize">
                    ${s}
                  </span>
                </div>
                <p class="text-gray-600 dark:text-gray-400 text-sm">${t.excerpt}</p>
              </div>
            `}).join(""),setTimeout(()=>{n.querySelectorAll(".animate-fade-in").forEach((s,l)=>{setTimeout(()=>{s.classList.remove("opacity-0"),s.classList.add("opacity-100")},l*100)})},50)))},300)}u?.addEventListener("input",e=>{const o=e.target;o&&v(o.value)});k.forEach(e=>{e.addEventListener("click",()=>{k.forEach(r=>{r.classList.remove("active","bg-blue-100","dark:bg-blue-900","text-blue-800","dark:text-blue-200"),r.classList.add("bg-gray-100","dark:bg-gray-800","text-gray-700","dark:text-gray-300")}),e.classList.add("active","bg-blue-100","dark:bg-blue-900","text-blue-800","dark:text-blue-200"),e.classList.remove("bg-gray-100","dark:bg-gray-800","text-gray-700","dark:text-gray-300"),p=e.dataset.filter||"all",u&&v(u.value)})});_.forEach(e=>{e.addEventListener("click",()=>{const r=e.dataset.query;r&&u&&(u.value=r,v(r))})});document.addEventListener("keydown",e=>{(e.metaKey||e.ctrlKey)&&e.key==="k"&&(e.preventDefault(),u?.focus())});
