const challenges=[{title:"FizzBuzz",description:'Return an array of 1-100 where multiples of 3 are "Fizz", multiples of 5 are "Buzz", and multiples of both are "FizzBuzz".',expected:'[1, 2, "Fizz", 4, "Buzz", "Fizz", 7, 8, "Fizz", "Buzz", ...]',test:e=>{const t=e();return!Array.isArray(t)||t.length!==100?!1:t[2]==="Fizz"&&t[4]==="Buzz"&&t[14]==="FizzBuzz"&&t[0]===1},hint:"Try using Array.from() or [...Array(100)] and ternary operators.",bestKnown:54},{title:"Reverse a String",description:'Create a function that reverses a string. solve("hello") → "olleh"',expected:'solve("hello") → "olleh"',test:e=>e("hello")==="olleh"&&e("world")==="dlrow"&&e("")==="",hint:'split("").reverse().join("") works, but can you do better?',bestKnown:22},{title:"Check Palindrome",description:'Create a function that returns true if a string is a palindrome. solve("racecar") → true',expected:'solve("racecar") → true, solve("hello") → false',test:e=>e("racecar")===!0&&e("hello")===!1&&e("a")===!0,hint:"Compare the string with its reverse.",bestKnown:27},{title:"Sum of Array",description:"Create a function that returns the sum of all numbers in an array. solve([1,2,3]) → 6",expected:"solve([1, 2, 3, 4, 5]) → 15",test:e=>e([1,2,3])===6&&e([1,2,3,4,5])===15&&e([])===0,hint:"reduce() is your friend.",bestKnown:19},{title:"Factorial",description:"Create a function that returns n!. solve(5) → 120",expected:"solve(5) → 120, solve(0) → 1",test:e=>e(5)===120&&e(0)===1&&e(1)===1&&e(10)===3628800,hint:"Recursion or reduce can work.",bestKnown:25},{title:"Fibonacci",description:"Create a function that returns the nth Fibonacci number (0-indexed). solve(6) → 8",expected:"solve(0) → 0, solve(1) → 1, solve(6) → 8",test:e=>e(0)===0&&e(1)===1&&e(6)===8&&e(10)===55,hint:"Think recursively or use memoization.",bestKnown:38},{title:"Count Vowels",description:'Create a function that counts vowels in a string. solve("hello") → 2',expected:'solve("hello world") → 3',test:e=>e("hello")===2&&e("aeiou")===5&&e("xyz")===0,hint:"Try using match() with a regex.",bestKnown:29},{title:"Find Maximum",description:"Create a function that finds the max number in an array. solve([1,5,3]) → 5",expected:"solve([1, 5, 3, 9, 2]) → 9",test:e=>e([1,5,3])===5&&e([1,5,3,9,2])===9&&e([-1,-5])===-1,hint:"Math.max with spread operator.",bestKnown:18}],codeInput=document.getElementById("code-input"),charCount=document.getElementById("char-count"),challengeSelect=document.getElementById("challenge-select"),output=document.getElementById("output"),status=document.getElementById("status"),leaderboard=document.getElementById("leaderboard");let currentChallenge=0;function loadChallenge(e){const t=challenges[e];document.getElementById("challenge-title").textContent=t.title,document.getElementById("challenge-description").textContent=t.description,document.getElementById("expected-output").textContent=t.expected,document.getElementById("best-score").textContent=t.bestKnown.toString();const n=localStorage.getItem(`codegolf_${e}`);document.getElementById("your-score").textContent=n||"--",codeInput.value="",charCount.textContent="0",output.textContent="// Output will appear here",status.textContent="",currentChallenge=e,updateLeaderboard()}function countChars(e){return e.replace(/\s/g,"").length}codeInput.addEventListener("input",()=>{const e=countChars(codeInput.value);charCount.textContent=e.toString()});challengeSelect.addEventListener("change",()=>{loadChallenge(parseInt(challengeSelect.value))});document.getElementById("run-btn").addEventListener("click",()=>{try{const code=codeInput.value,result=eval(`(function() { ${code}; return typeof solve !== 'undefined' ? solve : null; })()`);if(typeof result=="function"){const e=currentChallenge===0?result():result([1,2,3]);output.textContent=JSON.stringify(e,null,2),status.textContent="",status.className="text-sm"}else output.textContent=JSON.stringify(result,null,2)}catch(e){output.textContent=`Error: ${e.message}`,status.textContent="Error",status.className="text-sm text-red-500"}});document.getElementById("test-btn").addEventListener("click",()=>{try{const code=codeInput.value,fn=eval(`(function() { ${code}; return solve; })()`),challenge=challenges[currentChallenge],passed=challenge.test(fn);if(passed){const e=countChars(code);output.textContent=`All tests passed!

Your solution: ${e} characters
Best known: ${challenge.bestKnown} characters`,status.textContent="Passed!",status.className="text-sm text-green-500";const t=localStorage.getItem(`codegolf_${currentChallenge}`);(!t||e<parseInt(t))&&(localStorage.setItem(`codegolf_${currentChallenge}`,e.toString()),document.getElementById("your-score").textContent=e.toString(),updateLeaderboard())}else output.textContent="Tests failed. Check your logic.",status.textContent="Failed",status.className="text-sm text-red-500"}catch(e){output.textContent=`Error: ${e.message}`,status.textContent="Error",status.className="text-sm text-red-500"}});document.getElementById("hint-btn").addEventListener("click",()=>{output.textContent=`Hint: ${challenges[currentChallenge].hint}`,status.textContent=""});document.getElementById("reset-btn").addEventListener("click",()=>{codeInput.value="",charCount.textContent="0",output.textContent="// Output will appear here",status.textContent=""});function updateLeaderboard(){const e=challenges.map((t,n)=>{const o=localStorage.getItem(`codegolf_${n}`);return{title:t.title,best:t.bestKnown,yours:o?parseInt(o):null}});leaderboard.innerHTML=e.map(t=>`
      <div class="flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
        <span class="font-medium">${t.title}</span>
        <div class="flex gap-4 text-sm">
          <span class="text-gray-500">Best: ${t.best}</span>
          <span class="${t.yours&&t.yours<=t.best?"text-green-600 font-bold":"text-blue-600"}">
            You: ${t.yours||"--"}
          </span>
        </div>
      </div>
    `).join("")}loadChallenge(0);
