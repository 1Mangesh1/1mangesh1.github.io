<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="shortcut icon" href="/images/favicon.png" />

<title>How to implement soft delete in Django&nbsp;|&nbsp;YOLO blogs</title>
<meta
  name="title"
  content="How to implement soft delete in Django"
/>
<meta
  name="description"
  content="In this post, I will show you how to implement soft delete in Django. Soft delete is a technique used to mark a record as deleted without actually removing it from the database. This is useful when you want to keep a record of deleted items or when you want to restore them later.
Step 1: We will create a custom manager to handle soft delete






1
2class SoftDeletableManager(models.Manager):
3    def get_queryset(self):
4        return super().get_queryset().filter(deleted_at__isnull=True)
Step 2: We will create a mixin to add soft delete functionality to models






 1class SoftDeletableModel(models.Model):
 2    deleted_at = models.DateTimeField(null=True, default=None)
 3    objects = SoftDeletableManager()
 4    all_objects = models.Manager()
 5
 6    class Meta:
 7        abstract = True
 8
 9    def delete(self):
10        self.deleted_at = timezone.now()
11        for field in self._meta.fields:
12            if field.unique and getattr(self, field.name):
13                current_value = getattr(self, field.name)
14                setattr(
15                    self,
16                    field.name,
17                    f&#34;{current_value}__deleted_{self.deleted_at.timestamp()}&#34;,
18                )
19        self.save()
20
21    def restore(self):
22        for field in self._meta.fields:
23            if field.unique and getattr(self, field.name):
24                current_value = getattr(self, field.name)
25                if &#34;__deleted_&#34; in current_value:
26                    original_value = current_value.split(&#34;__deleted_&#34;)[0]
27                    exists_query = Q(**{field.name: original_value})
28                    if self.__class__.objects.filter(exists_query).exists():
29                        raise IntegrityError(
30                            f&#34;Cannot restore record - {field.name} with value &#39;{original_value}&#39; already exists&#34;
31                        )
32
33                    setattr(self, field.name, original_value)
34
35        self.deleted_at = None
36        self.save()
Step 3: We will create a model that uses the mixin






1
2class Post(SoftDeletableModel):
3    title = models.CharField(max_length=100)
4    content = models.TextField()
Now you can use the delete and restore methods on instances of the Post model to soft delete and restore records."
/>
<meta
  name="keywords"
  content="Django,Soft Delete,"
/>

  <meta name="author" content="Mangesh Bide" />




<meta property="og:url" content="https://mangeshbide.tech/softdelete-in-django/">
  <meta property="og:site_name" content="YOLO blogs">
  <meta property="og:title" content="How to implement soft delete in Django">
  <meta property="og:description" content="In this post, I will show you how to implement soft delete in Django. Soft delete is a technique used to mark a record as deleted without actually removing it from the database. This is useful when you want to keep a record of deleted items or when you want to restore them later.
Step 1: We will create a custom manager to handle soft delete 1 2class SoftDeletableManager(models.Manager): 3 def get_queryset(self): 4 return super().get_queryset().filter(deleted_at__isnull=True) Step 2: We will create a mixin to add soft delete functionality to models 1class SoftDeletableModel(models.Model): 2 deleted_at = models.DateTimeField(null=True, default=None) 3 objects = SoftDeletableManager() 4 all_objects = models.Manager() 5 6 class Meta: 7 abstract = True 8 9 def delete(self): 10 self.deleted_at = timezone.now() 11 for field in self._meta.fields: 12 if field.unique and getattr(self, field.name): 13 current_value = getattr(self, field.name) 14 setattr( 15 self, 16 field.name, 17 f&#34;{current_value}__deleted_{self.deleted_at.timestamp()}&#34;, 18 ) 19 self.save() 20 21 def restore(self): 22 for field in self._meta.fields: 23 if field.unique and getattr(self, field.name): 24 current_value = getattr(self, field.name) 25 if &#34;__deleted_&#34; in current_value: 26 original_value = current_value.split(&#34;__deleted_&#34;)[0] 27 exists_query = Q(**{field.name: original_value}) 28 if self.__class__.objects.filter(exists_query).exists(): 29 raise IntegrityError( 30 f&#34;Cannot restore record - {field.name} with value &#39;{original_value}&#39; already exists&#34; 31 ) 32 33 setattr(self, field.name, original_value) 34 35 self.deleted_at = None 36 self.save() Step 3: We will create a model that uses the mixin 1 2class Post(SoftDeletableModel): 3 title = models.CharField(max_length=100) 4 content = models.TextField() Now you can use the delete and restore methods on instances of the Post model to soft delete and restore records.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="blog">
    <meta property="article:published_time" content="2025-06-09T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-06-09T00:00:00+00:00">
    <meta property="article:tag" content="Django">
    <meta property="article:tag" content="Soft Delete">





  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="How to implement soft delete in Django">
  <meta name="twitter:description" content="In this post, I will show you how to implement soft delete in Django. Soft delete is a technique used to mark a record as deleted without actually removing it from the database. This is useful when you want to keep a record of deleted items or when you want to restore them later.
Step 1: We will create a custom manager to handle soft delete 1 2class SoftDeletableManager(models.Manager): 3 def get_queryset(self): 4 return super().get_queryset().filter(deleted_at__isnull=True) Step 2: We will create a mixin to add soft delete functionality to models 1class SoftDeletableModel(models.Model): 2 deleted_at = models.DateTimeField(null=True, default=None) 3 objects = SoftDeletableManager() 4 all_objects = models.Manager() 5 6 class Meta: 7 abstract = True 8 9 def delete(self): 10 self.deleted_at = timezone.now() 11 for field in self._meta.fields: 12 if field.unique and getattr(self, field.name): 13 current_value = getattr(self, field.name) 14 setattr( 15 self, 16 field.name, 17 f&#34;{current_value}__deleted_{self.deleted_at.timestamp()}&#34;, 18 ) 19 self.save() 20 21 def restore(self): 22 for field in self._meta.fields: 23 if field.unique and getattr(self, field.name): 24 current_value = getattr(self, field.name) 25 if &#34;__deleted_&#34; in current_value: 26 original_value = current_value.split(&#34;__deleted_&#34;)[0] 27 exists_query = Q(**{field.name: original_value}) 28 if self.__class__.objects.filter(exists_query).exists(): 29 raise IntegrityError( 30 f&#34;Cannot restore record - {field.name} with value &#39;{original_value}&#39; already exists&#34; 31 ) 32 33 setattr(self, field.name, original_value) 34 35 self.deleted_at = None 36 self.save() Step 3: We will create a model that uses the mixin 1 2class Post(SoftDeletableModel): 3 title = models.CharField(max_length=100) 4 content = models.TextField() Now you can use the delete and restore methods on instances of the Post model to soft delete and restore records.">





  <meta itemprop="name" content="How to implement soft delete in Django">
  <meta itemprop="description" content="In this post, I will show you how to implement soft delete in Django. Soft delete is a technique used to mark a record as deleted without actually removing it from the database. This is useful when you want to keep a record of deleted items or when you want to restore them later.
Step 1: We will create a custom manager to handle soft delete 1 2class SoftDeletableManager(models.Manager): 3 def get_queryset(self): 4 return super().get_queryset().filter(deleted_at__isnull=True) Step 2: We will create a mixin to add soft delete functionality to models 1class SoftDeletableModel(models.Model): 2 deleted_at = models.DateTimeField(null=True, default=None) 3 objects = SoftDeletableManager() 4 all_objects = models.Manager() 5 6 class Meta: 7 abstract = True 8 9 def delete(self): 10 self.deleted_at = timezone.now() 11 for field in self._meta.fields: 12 if field.unique and getattr(self, field.name): 13 current_value = getattr(self, field.name) 14 setattr( 15 self, 16 field.name, 17 f&#34;{current_value}__deleted_{self.deleted_at.timestamp()}&#34;, 18 ) 19 self.save() 20 21 def restore(self): 22 for field in self._meta.fields: 23 if field.unique and getattr(self, field.name): 24 current_value = getattr(self, field.name) 25 if &#34;__deleted_&#34; in current_value: 26 original_value = current_value.split(&#34;__deleted_&#34;)[0] 27 exists_query = Q(**{field.name: original_value}) 28 if self.__class__.objects.filter(exists_query).exists(): 29 raise IntegrityError( 30 f&#34;Cannot restore record - {field.name} with value &#39;{original_value}&#39; already exists&#34; 31 ) 32 33 setattr(self, field.name, original_value) 34 35 self.deleted_at = None 36 self.save() Step 3: We will create a model that uses the mixin 1 2class Post(SoftDeletableModel): 3 title = models.CharField(max_length=100) 4 content = models.TextField() Now you can use the delete and restore methods on instances of the Post model to soft delete and restore records.">
  <meta itemprop="datePublished" content="2025-06-09T00:00:00+00:00">
  <meta itemprop="dateModified" content="2025-06-09T00:00:00+00:00">
  <meta itemprop="wordCount" content="291">
  <meta itemprop="keywords" content="Django,Soft Delete">
<meta name="referrer" content="no-referrer-when-downgrade" />

    
    
    
    <link href="/bundle.min.css" rel="stylesheet" />

    

    


    
</head>

  <body>
    <header>
      <nav>
  <a
    href="/"
    
    >Home</a
  >

  <a
    href="/blog/"
    
    >Blog</a
  >

  <a
    href="/portfolio/"
    
    >Portfolio</a
  >


  <a href="/index.xml">
    <svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 448 512">
      
      <path
        d="M0 64C0 46.3 14.3 32 32 32c229.8 0 416 186.2 416 416c0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96C14.3 96 0 81.7 0 64zM0 416a64 64 0 1 1 128 0A64 64 0 1 1 0 416zM32 160c159.1 0 288 128.9 288 288c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224c-17.7 0-32-14.3-32-32s14.3-32 32-32z"
      />
    </svg>
    RSS
  </a>

</nav>
<h1>How to implement soft delete in Django</h1>


    </header>
    <main>
      
  
  
    
      <p>
        <i>
          <time
            style="color: var(--text-light);"
            datetime="2025-06-09"
            pubdate
          >
            2025-06-09
          </time>
        </i>
      </p>
    
  
  
  <content>
    <p>In this post, I will show you how to implement soft delete in Django. Soft delete is a technique used to mark a record as deleted without actually removing it from the database. This is useful when you want to keep a record of deleted items or when you want to restore them later.</p>
<h2 id="step-1-we-will-create-a-custom-manager-to-handle-soft-delete">Step 1: We will create a custom manager to handle soft delete</h2>






<div class="highlight"><pre tabindex="0" style="color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">1</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">2</span><span><span style="color:#cba6f7">class</span> <span style="color:#f9e2af">SoftDeletableManager</span>(models<span style="color:#89dceb;font-weight:bold">.</span>Manager):
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">3</span><span>    <span style="color:#cba6f7">def</span> <span style="color:#89b4fa">get_queryset</span>(<span style="color:#89dceb">self</span>):
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">4</span><span>        <span style="color:#cba6f7">return</span> <span style="color:#89dceb">super</span>()<span style="color:#89dceb;font-weight:bold">.</span>get_queryset()<span style="color:#89dceb;font-weight:bold">.</span>filter(deleted_at__isnull<span style="color:#89dceb;font-weight:bold">=</span><span style="color:#fab387">True</span>)</span></span></code></pre></div>
<h2 id="step-2-we-will-create-a-mixin-to-add-soft-delete-functionality-to-models">Step 2: We will create a mixin to add soft delete functionality to models</h2>






<div class="highlight"><pre tabindex="0" style="color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 1</span><span><span style="color:#cba6f7">class</span> <span style="color:#f9e2af">SoftDeletableModel</span>(models<span style="color:#89dceb;font-weight:bold">.</span>Model):
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 2</span><span>    deleted_at <span style="color:#89dceb;font-weight:bold">=</span> models<span style="color:#89dceb;font-weight:bold">.</span>DateTimeField(null<span style="color:#89dceb;font-weight:bold">=</span><span style="color:#fab387">True</span>, default<span style="color:#89dceb;font-weight:bold">=</span><span style="color:#fab387">None</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 3</span><span>    objects <span style="color:#89dceb;font-weight:bold">=</span> SoftDeletableManager()
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 4</span><span>    all_objects <span style="color:#89dceb;font-weight:bold">=</span> models<span style="color:#89dceb;font-weight:bold">.</span>Manager()
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 5</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 6</span><span>    <span style="color:#cba6f7">class</span> <span style="color:#f9e2af">Meta</span>:
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 7</span><span>        abstract <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">True</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 8</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 9</span><span>    <span style="color:#cba6f7">def</span> <span style="color:#89b4fa">delete</span>(<span style="color:#89dceb">self</span>):
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">10</span><span>        <span style="color:#89dceb">self</span><span style="color:#89dceb;font-weight:bold">.</span>deleted_at <span style="color:#89dceb;font-weight:bold">=</span> timezone<span style="color:#89dceb;font-weight:bold">.</span>now()
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">11</span><span>        <span style="color:#cba6f7">for</span> field <span style="color:#89dceb;font-weight:bold">in</span> <span style="color:#89dceb">self</span><span style="color:#89dceb;font-weight:bold">.</span>_meta<span style="color:#89dceb;font-weight:bold">.</span>fields:
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">12</span><span>            <span style="color:#cba6f7">if</span> field<span style="color:#89dceb;font-weight:bold">.</span>unique <span style="color:#89dceb;font-weight:bold">and</span> <span style="color:#89dceb">getattr</span>(<span style="color:#89dceb">self</span>, field<span style="color:#89dceb;font-weight:bold">.</span>name):
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">13</span><span>                current_value <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#89dceb">getattr</span>(<span style="color:#89dceb">self</span>, field<span style="color:#89dceb;font-weight:bold">.</span>name)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">14</span><span>                <span style="color:#89dceb">setattr</span>(
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">15</span><span>                    <span style="color:#89dceb">self</span>,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">16</span><span>                    field<span style="color:#89dceb;font-weight:bold">.</span>name,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">17</span><span>                    <span style="color:#f38ba8">f</span><span style="color:#a6e3a1">&#34;</span><span style="color:#a6e3a1">{</span>current_value<span style="color:#a6e3a1">}</span><span style="color:#a6e3a1">__deleted_</span><span style="color:#a6e3a1">{</span><span style="color:#89dceb">self</span><span style="color:#89dceb;font-weight:bold">.</span>deleted_at<span style="color:#89dceb;font-weight:bold">.</span>timestamp()<span style="color:#a6e3a1">}</span><span style="color:#a6e3a1">&#34;</span>,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">18</span><span>                )
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">19</span><span>        <span style="color:#89dceb">self</span><span style="color:#89dceb;font-weight:bold">.</span>save()
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">20</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">21</span><span>    <span style="color:#cba6f7">def</span> <span style="color:#89b4fa">restore</span>(<span style="color:#89dceb">self</span>):
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">22</span><span>        <span style="color:#cba6f7">for</span> field <span style="color:#89dceb;font-weight:bold">in</span> <span style="color:#89dceb">self</span><span style="color:#89dceb;font-weight:bold">.</span>_meta<span style="color:#89dceb;font-weight:bold">.</span>fields:
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">23</span><span>            <span style="color:#cba6f7">if</span> field<span style="color:#89dceb;font-weight:bold">.</span>unique <span style="color:#89dceb;font-weight:bold">and</span> <span style="color:#89dceb">getattr</span>(<span style="color:#89dceb">self</span>, field<span style="color:#89dceb;font-weight:bold">.</span>name):
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">24</span><span>                current_value <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#89dceb">getattr</span>(<span style="color:#89dceb">self</span>, field<span style="color:#89dceb;font-weight:bold">.</span>name)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">25</span><span>                <span style="color:#cba6f7">if</span> <span style="color:#a6e3a1">&#34;__deleted_&#34;</span> <span style="color:#89dceb;font-weight:bold">in</span> current_value:
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">26</span><span>                    original_value <span style="color:#89dceb;font-weight:bold">=</span> current_value<span style="color:#89dceb;font-weight:bold">.</span>split(<span style="color:#a6e3a1">&#34;__deleted_&#34;</span>)[<span style="color:#fab387">0</span>]
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">27</span><span>                    exists_query <span style="color:#89dceb;font-weight:bold">=</span> Q(<span style="color:#89dceb;font-weight:bold">**</span>{field<span style="color:#89dceb;font-weight:bold">.</span>name: original_value})
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">28</span><span>                    <span style="color:#cba6f7">if</span> <span style="color:#89dceb">self</span><span style="color:#89dceb;font-weight:bold">.</span><span style="color:#f5e0dc">__class__</span><span style="color:#89dceb;font-weight:bold">.</span>objects<span style="color:#89dceb;font-weight:bold">.</span>filter(exists_query)<span style="color:#89dceb;font-weight:bold">.</span>exists():
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">29</span><span>                        <span style="color:#cba6f7">raise</span> IntegrityError(
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">30</span><span>                            <span style="color:#f38ba8">f</span><span style="color:#a6e3a1">&#34;Cannot restore record - </span><span style="color:#a6e3a1">{</span>field<span style="color:#89dceb;font-weight:bold">.</span>name<span style="color:#a6e3a1">}</span><span style="color:#a6e3a1"> with value &#39;</span><span style="color:#a6e3a1">{</span>original_value<span style="color:#a6e3a1">}</span><span style="color:#a6e3a1">&#39; already exists&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">31</span><span>                        )
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">32</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">33</span><span>                    <span style="color:#89dceb">setattr</span>(<span style="color:#89dceb">self</span>, field<span style="color:#89dceb;font-weight:bold">.</span>name, original_value)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">34</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">35</span><span>        <span style="color:#89dceb">self</span><span style="color:#89dceb;font-weight:bold">.</span>deleted_at <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">None</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">36</span><span>        <span style="color:#89dceb">self</span><span style="color:#89dceb;font-weight:bold">.</span>save()</span></span></code></pre></div>
<h2 id="step-3-we-will-create-a-model-that-uses-the-mixin">Step 3: We will create a model that uses the mixin</h2>






<div class="highlight"><pre tabindex="0" style="color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">1</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">2</span><span><span style="color:#cba6f7">class</span> <span style="color:#f9e2af">Post</span>(SoftDeletableModel):
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">3</span><span>    title <span style="color:#89dceb;font-weight:bold">=</span> models<span style="color:#89dceb;font-weight:bold">.</span>CharField(max_length<span style="color:#89dceb;font-weight:bold">=</span><span style="color:#fab387">100</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">4</span><span>    content <span style="color:#89dceb;font-weight:bold">=</span> models<span style="color:#89dceb;font-weight:bold">.</span>TextField()</span></span></code></pre></div>
<p>Now you can use the <code>delete</code> and <code>restore</code> methods on instances of the <code>Post</code> model to soft delete and restore records.</p>
<p>That&rsquo;s it! You have successfully implemented soft delete in Django. I hope you found this post helpful. If you have any questions or feedback, feel free to dm me on <a href="https://x.com/Mangesh_Bide">X</a> mail me at <a href="mailto:mangeshsbide@gmail.com%5D">gmail</a>.</p>






<pre tabindex="0"><code></code></pre>

  </content>
  
  
    <p>
      
        <a href="/blog/django/">#Django</a>&nbsp;&nbsp;
      
        <a href="/blog/soft-delete/">#Soft Delete</a>&nbsp;&nbsp;
      
    </p>
  

    </main>
    <footer>
      

      
  <span>© 2024 Mangesh Bide</span>



    </footer>

    
</body>
</html>
