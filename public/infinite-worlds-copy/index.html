<!doctype html>
<html lang="en">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta http-equiv="X-Clacks-Overhead" content="GNU Terry Pratchett" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="shortcut icon" href="/images/favicon.png" />

<title>Procedural Generation: Creating Infinite Worlds&nbsp;|&nbsp;Hugo Simple</title>
<meta
  name="title"
  content="Procedural Generation: Creating Infinite Worlds"
/>
<meta
  name="description"
  content="Deep dive into procedural generation technology and its applications in creating vast game worlds."
/>
<meta
  name="keywords"
  content="gamedev,procedural-generation,algorithms,typescript,"
/>

  <meta name="author" content="Shaolong Chen" />




<meta property="og:url" content="http://localhost:1313/infinite-worlds-copy/">
  <meta property="og:site_name" content="Hugo Simple">
  <meta property="og:title" content="Procedural Generation: Creating Infinite Worlds">
  <meta property="og:description" content="Deep dive into procedural generation technology and its applications in creating vast game worlds.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="blog">
    <meta property="article:published_time" content="2024-03-02T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-03-02T00:00:00+00:00">
    <meta property="article:tag" content="gamedev">
    <meta property="article:tag" content="procedural-generation">
    <meta property="article:tag" content="algorithms">
    <meta property="article:tag" content="typescript">





  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Procedural Generation: Creating Infinite Worlds">
  <meta name="twitter:description" content="Deep dive into procedural generation technology and its applications in creating vast game worlds.">





  <meta itemprop="name" content="Procedural Generation: Creating Infinite Worlds">
  <meta itemprop="description" content="Deep dive into procedural generation technology and its applications in creating vast game worlds.">
  <meta itemprop="datePublished" content="2024-03-02T00:00:00+00:00">
  <meta itemprop="dateModified" content="2024-03-02T00:00:00+00:00">
  <meta itemprop="wordCount" content="899">
  <meta itemprop="keywords" content="gamedev,procedural-generation,algorithms,typescript">
<meta name="referrer" content="no-referrer-when-downgrade" />

    
    <link href="/simple.min.css" rel="stylesheet" />

    
    <link href="/style.min.css" rel="stylesheet" />

    

    
</head>

  <body>
    <header>
      <nav>
  <a
    href="/"
    
    >Home</a
  >

  <a
    href="/blog/"
    
    >Blog</a
  >


  <a href="/index.xml">
    <svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 448 512">
      
      <path
        d="M0 64C0 46.3 14.3 32 32 32c229.8 0 416 186.2 416 416c0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96C14.3 96 0 81.7 0 64zM0 416a64 64 0 1 1 128 0A64 64 0 1 1 0 416zM32 160c159.1 0 288 128.9 288 288c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224c-17.7 0-32-14.3-32-32s14.3-32 32-32z"
      />
    </svg>
    RSS
  </a>

</nav>

<h1>Procedural Generation: Creating Infinite Worlds</h1>

  <p>Deep dive into procedural generation technology and its applications in creating vast game worlds.</p>


    </header>
    <main>
      
  
    
      
      <p>
        <i>
          <time datetime="2024-03-02" pubdate>
            2024-03-02
          </time>
        </i>
      </p>
    
  
  
    <details>
      <summary>Table of Contents</summary>
      <nav id="TableOfContents">
  <ul>
    <li><a href="#what-is-procedural-generation">What is Procedural Generation?</a></li>
    <li><a href="#the-power-of-randomized-seeds">The Power of Randomized Seeds</a></li>
    <li><a href="#building-a-simple-terrain-generator">Building a Simple Terrain Generator</a></li>
    <li><a href="#challenges-and-considerations">Challenges and Considerations</a>
      <ul>
        <li><a href="#1-performance-optimization">1. Performance Optimization</a></li>
        <li><a href="#2-content-quality">2. Content Quality</a></li>
        <li><a href="#3-memory-management">3. Memory Management</a></li>
      </ul>
    </li>
    <li><a href="#looking-ahead">Looking Ahead</a></li>
    <li><a href="#try-it-yourself">Try It Yourself</a></li>
  </ul>
</nav>
    </details>
  
  <content>
    <p>Procedural generation has revolutionized how we create virtual worlds, enabling developers to craft vast, unique environments without manually designing every detail. In this post, we&rsquo;ll explore the fundamentals of procedural generation and implement a simple terrain generator.</p>
<h2 id="what-is-procedural-generation">What is Procedural Generation?</h2>
<p>Procedural generation refers to creating content algorithmically rather than manually. In game development, this technique can generate:</p>
<ul>
<li>Terrain and landscapes</li>
<li>Buildings and structures</li>
<li>Flora and fauna</li>
<li>Quest systems</li>
<li>Item variations</li>
</ul>
<h2 id="the-power-of-randomized-seeds">The Power of Randomized Seeds</h2>
<p>One of the most fascinating aspects of procedural generation is that complex worlds can emerge from simple mathematical functions and random seeds. The same seed will always generate identical content, allowing for:</p>
<ul>
<li>Reproducible worlds</li>
<li>Shared experiences between players</li>
<li>Efficient storage of vast environments</li>
</ul>
<h2 id="building-a-simple-terrain-generator">Building a Simple Terrain Generator</h2>
<p>Let&rsquo;s create a simple visualization of our terrain generation using HTML and TypeScript. This example will create a grid-based display where each cell&rsquo;s color represents different terrain heights:</p>






<div class="highlight"><pre tabindex="0" style="color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 1</span><span><span style="color:#6c7086;font-style:italic">// Terrain Generator Implementation
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 2</span><span><span style="color:#6c7086;font-style:italic"></span><span style="color:#cba6f7">class</span> TerrainVisualizer {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 3</span><span>    <span style="color:#cba6f7">private</span> canvas: <span style="color:#f38ba8">HTMLElement</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 4</span><span>    <span style="color:#cba6f7">private</span> size: <span style="color:#f38ba8">number</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 5</span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 6</span><span>    <span style="color:#cba6f7">constructor</span>(containerId: <span style="color:#f38ba8">string</span>, size: <span style="color:#f38ba8">number</span> <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">32</span>) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 7</span><span>        <span style="color:#cba6f7">this</span>.canvas <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#89dceb">document</span>.getElementById(containerId) <span style="color:#89dceb;font-weight:bold">||</span> <span style="color:#89dceb">document</span>.createElement(<span style="color:#a6e3a1">&#39;div&#39;</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 8</span><span>        <span style="color:#cba6f7">this</span>.size <span style="color:#89dceb;font-weight:bold">=</span> size;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 9</span><span>        <span style="color:#cba6f7">this</span>.setupCanvas();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">10</span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">11</span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">12</span><span>    <span style="color:#cba6f7">private</span> setupCanvas() {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">13</span><span>        <span style="color:#cba6f7">this</span>.canvas.style.display <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#a6e3a1">&#39;grid&#39;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">14</span><span>        <span style="color:#cba6f7">this</span>.canvas.style.gridTemplateColumns <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#a6e3a1">`repeat(</span><span style="color:#a6e3a1">${</span><span style="color:#cba6f7">this</span>.size<span style="color:#a6e3a1">}</span><span style="color:#a6e3a1">, 1fr)`</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">15</span><span>        <span style="color:#cba6f7">this</span>.canvas.style.gap <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#a6e3a1">&#39;1px&#39;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">16</span><span>        <span style="color:#cba6f7">this</span>.canvas.style.backgroundColor <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#a6e3a1">&#39;#ccc&#39;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">17</span><span>        <span style="color:#cba6f7">this</span>.canvas.style.padding <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#a6e3a1">&#39;1px&#39;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">18</span><span>        <span style="color:#cba6f7">this</span>.canvas.style.maxWidth <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#a6e3a1">&#39;500px&#39;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">19</span><span>        <span style="color:#cba6f7">this</span>.canvas.style.aspectRatio <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#a6e3a1">&#39;1&#39;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">20</span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">21</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">22</span><span>    <span style="color:#cba6f7">private</span> random(x: <span style="color:#f38ba8">number</span>, y: <span style="color:#f38ba8">number</span>, seed: <span style="color:#f38ba8">number</span>)<span style="color:#89dceb;font-weight:bold">:</span> <span style="color:#f38ba8">number</span> {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">23</span><span>        <span style="color:#cba6f7">const</span> dot <span style="color:#89dceb;font-weight:bold">=</span> x <span style="color:#89dceb;font-weight:bold">*</span> <span style="color:#fab387">12.9898</span> <span style="color:#89dceb;font-weight:bold">+</span> y <span style="color:#89dceb;font-weight:bold">*</span> <span style="color:#fab387">78.233</span> <span style="color:#89dceb;font-weight:bold">+</span> seed;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">24</span><span>        <span style="color:#cba6f7">const</span> sine <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#89dceb">Math</span>.sin(dot) <span style="color:#89dceb;font-weight:bold">*</span> <span style="color:#fab387">43758.5453123</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">25</span><span>        <span style="color:#cba6f7">return</span> sine <span style="color:#89dceb;font-weight:bold">-</span> <span style="color:#89dceb">Math</span>.floor(sine);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">26</span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">27</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">28</span><span>    <span style="color:#cba6f7">private</span> getTerrainColor(height: <span style="color:#f38ba8">number</span>)<span style="color:#89dceb;font-weight:bold">:</span> <span style="color:#f38ba8">string</span> {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">29</span><span>        <span style="color:#cba6f7">if</span> (height <span style="color:#89dceb;font-weight:bold">&lt;</span> <span style="color:#fab387">0.2</span>) <span style="color:#cba6f7">return</span> <span style="color:#a6e3a1">&#39;#1a365d&#39;</span>; <span style="color:#6c7086;font-style:italic">// Deep water
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">30</span><span><span style="color:#6c7086;font-style:italic"></span>        <span style="color:#cba6f7">if</span> (height <span style="color:#89dceb;font-weight:bold">&lt;</span> <span style="color:#fab387">0.4</span>) <span style="color:#cba6f7">return</span> <span style="color:#a6e3a1">&#39;#3b82f6&#39;</span>; <span style="color:#6c7086;font-style:italic">// Shallow water
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">31</span><span><span style="color:#6c7086;font-style:italic"></span>        <span style="color:#cba6f7">if</span> (height <span style="color:#89dceb;font-weight:bold">&lt;</span> <span style="color:#fab387">0.6</span>) <span style="color:#cba6f7">return</span> <span style="color:#a6e3a1">&#39;#fef08a&#39;</span>; <span style="color:#6c7086;font-style:italic">// Beach
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">32</span><span><span style="color:#6c7086;font-style:italic"></span>        <span style="color:#cba6f7">if</span> (height <span style="color:#89dceb;font-weight:bold">&lt;</span> <span style="color:#fab387">0.8</span>) <span style="color:#cba6f7">return</span> <span style="color:#a6e3a1">&#39;#22c55e&#39;</span>; <span style="color:#6c7086;font-style:italic">// Grassland
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">33</span><span><span style="color:#6c7086;font-style:italic"></span>        <span style="color:#cba6f7">return</span> <span style="color:#a6e3a1">&#39;#4b5563&#39;</span>;                   <span style="color:#6c7086;font-style:italic">// Mountain
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">34</span><span><span style="color:#6c7086;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">35</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">36</span><span>    <span style="color:#cba6f7">public</span> generate(seed: <span style="color:#f38ba8">number</span> <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#89dceb">Math</span>.random() <span style="color:#89dceb;font-weight:bold">*</span> <span style="color:#fab387">10000</span>) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">37</span><span>        <span style="color:#cba6f7">this</span>.canvas.innerHTML <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#a6e3a1">&#39;&#39;</span>; <span style="color:#6c7086;font-style:italic">// Clear previous terrain
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">38</span><span><span style="color:#6c7086;font-style:italic"></span>        
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">39</span><span>        <span style="color:#cba6f7">const</span> octaves <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">4</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">40</span><span>        <span style="color:#cba6f7">const</span> persistence <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">0.5</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">41</span><span>        
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">42</span><span>        <span style="color:#6c7086;font-style:italic">// Generate terrain
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">43</span><span><span style="color:#6c7086;font-style:italic"></span>        <span style="color:#cba6f7">for</span> (<span style="color:#f38ba8">let</span> x <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">0</span>; x <span style="color:#89dceb;font-weight:bold">&lt;</span> <span style="color:#cba6f7">this</span>.size; x<span style="color:#89dceb;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">44</span><span>            <span style="color:#cba6f7">for</span> (<span style="color:#f38ba8">let</span> y <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">0</span>; y <span style="color:#89dceb;font-weight:bold">&lt;</span> <span style="color:#cba6f7">this</span>.size; y<span style="color:#89dceb;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">45</span><span>                <span style="color:#f38ba8">let</span> height <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">46</span><span>                <span style="color:#f38ba8">let</span> amplitude <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1.0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">47</span><span>                <span style="color:#f38ba8">let</span> frequency <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1.0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">48</span><span>                
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">49</span><span>                <span style="color:#6c7086;font-style:italic">// Combine multiple frequencies of noise
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">50</span><span><span style="color:#6c7086;font-style:italic"></span>                <span style="color:#cba6f7">for</span> (<span style="color:#f38ba8">let</span> i <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">0</span>; i <span style="color:#89dceb;font-weight:bold">&lt;</span> octaves; i<span style="color:#89dceb;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">51</span><span>                    <span style="color:#cba6f7">const</span> sampleX <span style="color:#89dceb;font-weight:bold">=</span> (x <span style="color:#89dceb;font-weight:bold">/</span> <span style="color:#cba6f7">this</span>.size) <span style="color:#89dceb;font-weight:bold">*</span> frequency <span style="color:#89dceb;font-weight:bold">+</span> seed;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">52</span><span>                    <span style="color:#cba6f7">const</span> sampleY <span style="color:#89dceb;font-weight:bold">=</span> (y <span style="color:#89dceb;font-weight:bold">/</span> <span style="color:#cba6f7">this</span>.size) <span style="color:#89dceb;font-weight:bold">*</span> frequency <span style="color:#89dceb;font-weight:bold">+</span> seed;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">53</span><span>                    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">54</span><span>                    height <span style="color:#89dceb;font-weight:bold">+=</span> <span style="color:#cba6f7">this</span>.random(sampleX, sampleY, seed) <span style="color:#89dceb;font-weight:bold">*</span> amplitude;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">55</span><span>                    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">56</span><span>                    amplitude <span style="color:#89dceb;font-weight:bold">*=</span> persistence;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">57</span><span>                    frequency <span style="color:#89dceb;font-weight:bold">*=</span> <span style="color:#fab387">2</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">58</span><span>                }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">59</span><span>                
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">60</span><span>                <span style="color:#6c7086;font-style:italic">// Create and style the cell
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">61</span><span><span style="color:#6c7086;font-style:italic"></span>                <span style="color:#cba6f7">const</span> cell <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#89dceb">document</span>.createElement(<span style="color:#a6e3a1">&#39;div&#39;</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">62</span><span>                cell.style.backgroundColor <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#cba6f7">this</span>.getTerrainColor(height);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">63</span><span>                cell.style.aspectRatio <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#a6e3a1">&#39;1&#39;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">64</span><span>                cell.title <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#a6e3a1">`Height: </span><span style="color:#a6e3a1">${</span>height.toFixed(<span style="color:#fab387">2</span>)<span style="color:#a6e3a1">}</span><span style="color:#a6e3a1">`</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">65</span><span>                
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">66</span><span>                <span style="color:#cba6f7">this</span>.canvas.appendChild(cell);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">67</span><span>            }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">68</span><span>        }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">69</span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">70</span><span>}
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">71</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">72</span><span><span style="color:#6c7086;font-style:italic">// Usage:
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">73</span><span><span style="color:#6c7086;font-style:italic">// HTML: &lt;div id=&#34;terrain-canvas&#34;&gt;&lt;/div&gt;
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">74</span><span><span style="color:#6c7086;font-style:italic"></span><span style="color:#cba6f7">const</span> visualizer <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#cba6f7">new</span> TerrainVisualizer(<span style="color:#a6e3a1">&#39;terrain-canvas&#39;</span>, <span style="color:#fab387">32</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">75</span><span>visualizer.generate(<span style="color:#fab387">12345</span>); <span style="color:#6c7086;font-style:italic">// Use a specific seed for reproducibility
</span></span></span></code></pre></div>
<p>Here&rsquo;s how to use this code in your HTML:</p>






<div class="highlight"><pre tabindex="0" style="color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 1</span><span><span style="color:#6c7086;font-style:italic">&lt;!DOCTYPE html&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 2</span><span>&lt;<span style="color:#cba6f7">html</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 3</span><span>&lt;<span style="color:#cba6f7">head</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 4</span><span>    &lt;<span style="color:#cba6f7">title</span>&gt;Terrain Generation Example&lt;/<span style="color:#cba6f7">title</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 5</span><span>&lt;/<span style="color:#cba6f7">head</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 6</span><span>&lt;<span style="color:#cba6f7">body</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 7</span><span>    &lt;<span style="color:#cba6f7">div</span> <span style="color:#89b4fa">id</span><span style="color:#89dceb;font-weight:bold">=</span><span style="color:#a6e3a1">&#34;terrain-canvas&#34;</span>&gt;&lt;/<span style="color:#cba6f7">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 8</span><span>    &lt;<span style="color:#cba6f7">button</span> <span style="color:#89b4fa">onclick</span><span style="color:#89dceb;font-weight:bold">=</span><span style="color:#a6e3a1">&#34;visualizer.generate(Math.random() * 10000)&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 9</span><span>        Generate New Terrain
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">10</span><span>    &lt;/<span style="color:#cba6f7">button</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">11</span><span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">12</span><span>    &lt;<span style="color:#cba6f7">div</span> <span style="color:#89b4fa">style</span><span style="color:#89dceb;font-weight:bold">=</span><span style="color:#a6e3a1">&#34;margin-top: 20px&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">13</span><span>        &lt;<span style="color:#cba6f7">div</span> <span style="color:#89b4fa">style</span><span style="color:#89dceb;font-weight:bold">=</span><span style="color:#a6e3a1">&#34;display: flex; gap: 20px; align-items: center&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">14</span><span>            &lt;<span style="color:#cba6f7">div</span> <span style="color:#89b4fa">style</span><span style="color:#89dceb;font-weight:bold">=</span><span style="color:#a6e3a1">&#34;width: 20px; height: 20px; background: #1a365d&#34;</span>&gt;&lt;/<span style="color:#cba6f7">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">15</span><span>            &lt;<span style="color:#cba6f7">span</span>&gt;Deep Water&lt;/<span style="color:#cba6f7">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">16</span><span>            
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">17</span><span>            &lt;<span style="color:#cba6f7">div</span> <span style="color:#89b4fa">style</span><span style="color:#89dceb;font-weight:bold">=</span><span style="color:#a6e3a1">&#34;width: 20px; height: 20px; background: #3b82f6&#34;</span>&gt;&lt;/<span style="color:#cba6f7">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">18</span><span>            &lt;<span style="color:#cba6f7">span</span>&gt;Shallow Water&lt;/<span style="color:#cba6f7">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">19</span><span>            
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">20</span><span>            &lt;<span style="color:#cba6f7">div</span> <span style="color:#89b4fa">style</span><span style="color:#89dceb;font-weight:bold">=</span><span style="color:#a6e3a1">&#34;width: 20px; height: 20px; background: #fef08a&#34;</span>&gt;&lt;/<span style="color:#cba6f7">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">21</span><span>            &lt;<span style="color:#cba6f7">span</span>&gt;Beach&lt;/<span style="color:#cba6f7">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">22</span><span>            
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">23</span><span>            &lt;<span style="color:#cba6f7">div</span> <span style="color:#89b4fa">style</span><span style="color:#89dceb;font-weight:bold">=</span><span style="color:#a6e3a1">&#34;width: 20px; height: 20px; background: #22c55e&#34;</span>&gt;&lt;/<span style="color:#cba6f7">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">24</span><span>            &lt;<span style="color:#cba6f7">span</span>&gt;Grassland&lt;/<span style="color:#cba6f7">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">25</span><span>            
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">26</span><span>            &lt;<span style="color:#cba6f7">div</span> <span style="color:#89b4fa">style</span><span style="color:#89dceb;font-weight:bold">=</span><span style="color:#a6e3a1">&#34;width: 20px; height: 20px; background: #4b5563&#34;</span>&gt;&lt;/<span style="color:#cba6f7">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">27</span><span>            &lt;<span style="color:#cba6f7">span</span>&gt;Mountain&lt;/<span style="color:#cba6f7">span</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">28</span><span>        &lt;/<span style="color:#cba6f7">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">29</span><span>    &lt;/<span style="color:#cba6f7">div</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">30</span><span>&lt;/<span style="color:#cba6f7">body</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">31</span><span>&lt;/<span style="color:#cba6f7">html</span>&gt;</span></span></code></pre></div>
<p>This implementation:</p>
<ul>
<li>Creates a grid-based visualization using pure HTML/CSS</li>
<li>Uses the same terrain generation algorithm as before</li>
<li>Generates different terrains based on seeds</li>
<li>Shows terrain height on hover</li>
<li>Includes a color legend</li>
<li>Can be easily embedded in any webpage</li>
</ul>
<p>Each time you click the button, it will generate a new random terrain. The colors represent different height levels:</p>
<ul>
<li>Dark blue for deep water (lowest)</li>
<li>Light blue for shallow water</li>
<li>Yellow for beaches</li>
<li>Green for grasslands</li>
<li>Gray for mountains (highest)</li>
</ul>
<p>Try adjusting the parameters like  and  to see how they affect the terrain generation. You can also experiment with different color schemes by modifying the  function.octavespersistencegetTerrainColor</p>
<h2 id="challenges-and-considerations">Challenges and Considerations</h2>
<p>While procedural generation offers incredible possibilities, developers face several challenges:</p>
<h3 id="1-performance-optimization">1. Performance Optimization</h3>
<p>Generated content must be created efficiently, especially for real-time applications. Solutions include:</p>
<ul>
<li>Chunk-based generation</li>
<li>Level of detail systems</li>
<li>Caching mechanisms</li>
</ul>
<h3 id="2-content-quality">2. Content Quality</h3>
<p>Purely random generation rarely produces compelling results. Successful systems often:</p>
<ul>
<li>Combine predefined templates with randomization</li>
<li>Implement constraints and rules</li>
<li>Use machine learning for content validation</li>
</ul>
<h3 id="3-memory-management">3. Memory Management</h3>
<p>With infinite worlds comes the challenge of memory management:</p>
<ul>
<li>Streaming content dynamically</li>
<li>Unloading distant areas</li>
<li>Efficient storage of seed data</li>
</ul>
<h2 id="looking-ahead">Looking Ahead</h2>
<p>The future of procedural generation is bright, with emerging technologies like:</p>
<ul>
<li>Machine learning-enhanced generation</li>
<li>Real-time ray tracing for dynamic worlds</li>
<li>Collaborative procedural spaces</li>
</ul>
<p>By understanding these fundamentals, developers can create vast, engaging worlds that keep players exploring for hours on end.</p>
<h2 id="try-it-yourself">Try It Yourself</h2>
<p>The provided TypeScript code offers a starting point for experimentation. Try modifying parameters like:</p>
<ul>
<li>Octave count for different levels of detail</li>
<li>Persistence value for varying roughness</li>
<li>Terrain type thresholds for different biome distributions</li>
</ul>
<p>Remember, the best procedural generation systems often start simple and grow through iteration and refinement.</p>

  </content>
  <p>
    
      <a href="/blog/gamedev/">#gamedev</a>&nbsp;&nbsp;
    
      <a href="/blog/procedural-generation/">#procedural-generation</a>&nbsp;&nbsp;
    
      <a href="/blog/algorithms/">#algorithms</a>&nbsp;&nbsp;
    
      <a href="/blog/typescript/">#typescript</a>&nbsp;&nbsp;
    
  </p>

    </main>
    <footer>
      
  <span>© 2024 Shaolong Chen</span>


  <span>
    |
    Made with
    <a href="https://github.com/maolonglong/hugo-simple/">Hugo ʕ•ᴥ•ʔ Simple</a>
  </span>


    </footer>

    
</body>
</html>
