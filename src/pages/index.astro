---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';
import { getDailyQuote } from '../data/quotes';

const title = "Mangesh Bide - Software Developer";
const description = "Software Developer specializing in Python, Django, and Machine Learning. Sharing insights on web development, AI, and modern programming practices.";

// Get latest blog posts for featured section
const allPosts = await getCollection("blog", ({ data }) => data.draft !== true);
const latestPosts = allPosts
  .sort((a, b) => b.data.pubDate.getTime() - a.data.pubDate.getTime())
  .slice(0, 3);

const formatDate = (date: Date) => {
  return new Intl.DateTimeFormat('en-US', {
    year: 'numeric',
    month: 'short',
    day: 'numeric'
  }).format(date);
};

// Get daily quote
const dailyQuote = getDailyQuote();
---

<Layout title={title} description={description} type="website">
  <div class="max-w-4xl mx-auto px-4 py-12">
    
    <!-- Availability Banner -->
    <div class="mb-8 animate-on-scroll">
      <a href="/hire-me" class="block bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border border-green-200 dark:border-green-800 rounded-xl p-4 text-center hover-lift transition-all group">
        <div class="flex items-center justify-center gap-3 flex-wrap">
          <span class="relative flex h-3 w-3">
            <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
            <span class="relative inline-flex rounded-full h-3 w-3 bg-green-500"></span>
          </span>
          <span class="text-green-800 dark:text-green-200 font-medium">
            Open to new opportunities
          </span>
          <span class="text-green-600 dark:text-green-400 text-sm group-hover:translate-x-1 transition-transform">â†’ Learn how I can help your team</span>
        </div>
      </a>
    </div>

    <!-- Hero Section -->
    <section aria-label="Introduction" class="text-center mb-16 animate-on-scroll">
      <div class="mb-8 animate-on-scroll scale stagger-1">
        <img 
          src="/me.jpg" 
          alt="Mangesh Bide - Software Developer" 
          width="128"
          height="128"
          fetchpriority="high"
          decoding="async"
          class="w-32 h-32 rounded-full mx-auto shadow-lg object-cover hover-lift transition-all duration-300 hover:shadow-2xl hover:scale-105"
        />
      </div>
      <h1 class="text-4xl md:text-5xl font-bold mb-6 custom-gradient-text py-2 leading-tight animate-on-scroll stagger-2">
        Hey, I'm Mangesh <span aria-hidden="true">ğŸ‘‹</span>
      </h1>
      <p class="text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto leading-relaxed animate-on-scroll stagger-3">
        Software Developer crafting solutions with <strong>Python</strong>, <strong>Django</strong>, and <strong>Machine Learning</strong>. 
        Currently building innovative products at <strong>Houseworks Technologies</strong>.
      </p>
      
      <!-- Typing Animation -->
      <div class="mt-6 animate-on-scroll stagger-4" aria-live="polite" aria-atomic="true">
        <p class="text-lg text-gray-500 dark:text-gray-500">
          I specialize in: <span id="typing-text" class="text-blue-600 dark:text-blue-400 font-mono" role="status"></span><span id="cursor" class="animate-ping" aria-hidden="true">|</span>
        </p>
      </div>
    </section>

    <!-- About Section -->
    <section aria-label="About" class="prose prose-lg dark:prose-invert max-w-none mb-12">
      <div class="bg-gray-50 dark:bg-gray-800/50 rounded-xl p-8 mb-8 hover-lift animate-on-scroll">
        <h2 class="text-2xl font-semibold mb-4 text-center">What I Do</h2>
        <div class="grid md:grid-cols-3 gap-6 text-center" data-stagger>
          <div class="animate-on-scroll card-animate">
            <div class="text-3xl mb-3">ğŸ</div>
            <h3 class="text-lg font-medium mb-2">Backend Development</h3>
            <p class="text-sm text-gray-600 dark:text-gray-400">Building robust APIs and scalable systems with Python & Django</p>
          </div>
          <div class="animate-on-scroll card-animate">
            <div class="text-3xl mb-3">ğŸ¤–</div>
            <h3 class="text-lg font-medium mb-2">Machine Learning</h3>
            <p class="text-sm text-gray-600 dark:text-gray-400">Creating intelligent solutions with TensorFlow and modern ML techniques</p>
          </div>
          <div class="animate-on-scroll card-animate">
            <div class="text-3xl mb-3">ğŸŒ</div>
            <h3 class="text-lg font-medium mb-2">Web Development</h3>
            <p class="text-sm text-gray-600 dark:text-gray-400">Full-stack development with modern frameworks and best practices</p>
          </div>
        </div>
      </div>

      <div class="bg-gradient-to-r from-purple-500 via-pink-500 to-red-500 rounded-xl p-8 mb-8 text-white shadow-lg hover-lift animate-on-scroll">
        <div class="flex items-start gap-4">
          <div class="text-3xl">ğŸ’¡</div>
          <div class="flex-1">
            <p class="text-lg italic mb-3 font-light">"{ dailyQuote }"</p>
            <p class="text-sm opacity-80">ğŸ’« Today's programming wisdom â€” fresh daily!</p>
          </div>
        </div>
      </div>

      <blockquote class="border-l-4 border-blue-500 pl-6 italic text-lg animate-on-scroll slide-left">
        <p>"The best way to learn is to build, break things, and build again. Every bug is a lesson in disguise."</p>
        <footer class="text-sm text-gray-600 dark:text-gray-400 mt-2">â€” My development philosophy</footer>
      </blockquote>

      <div class="animate-on-scroll">
        <h3>Why This Space Exists</h3>
        <p>In a world flooded with information, I believe in <strong>quality over quantity</strong>. This site is my digital garden where I share practical insights, real-world solutions, and lessons learned from the trenches of software development.</p>
        
        <p>Whether you're debugging a tricky Django issue, exploring machine learning algorithms, or just curious about the latest in tech, you'll find content that's <em>actually useful</em> â€” no fluff, no clickbait, just genuine knowledge sharing.</p>
      </div>

      <div class="animate-on-scroll slide-right">
        <h3>What You'll Discover</h3>
        <ul>
          <li><strong>Technical Deep Dives</strong> â€” In-depth tutorials and problem-solving approaches</li>
          <li><strong>Project Showcases</strong> â€” Real applications with code, challenges, and learnings</li>
          <li><strong>Industry Insights</strong> â€” Thoughts on emerging technologies and development trends</li>
          <li><strong>Career Reflections</strong> â€” Lessons from my journey as a software engineer</li>
        </ul>
      </div>

      <div class="bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6 border border-blue-200 dark:border-blue-800 hover-lift animate-on-scroll scale">
        <p class="mb-0"><strong>Fun fact:</strong> This site is built with <strong>Astro</strong> and <strong>Tailwind CSS</strong> â€” because I practice what I preach about keeping things fast, clean, and maintainable. You can even check out the <a href="https://github.com/1mangesh1/1mangesh1.github.io" target="_blank" rel="noopener noreferrer" class="link-glow">source code</a>!</p>
      </div>
    </section>

    <!-- Quick navigation to main sections -->
    <nav aria-label="Site sections" class="mt-12 pt-12 border-t border-gray-200 dark:border-gray-700">
      <h2 class="text-3xl font-bold text-center mb-4 animate-on-scroll">Start Exploring</h2>
      <p class="text-center text-gray-600 dark:text-gray-400 mb-12 max-w-2xl mx-auto animate-on-scroll stagger-1">
        Dive into my work, thoughts, and the tools that power my development journey
      </p>
      
      <!-- Primary sections -->
      <div class="grid md:grid-cols-2 gap-8 mb-12" data-stagger>
        <div class="bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg p-8 text-center border border-blue-200 dark:border-blue-800 hover-lift transition-all card-animate animate-on-scroll">
          <div class="text-4xl mb-4">âœï¸</div>
          <h3 class="text-2xl font-semibold mb-4">Technical Blog</h3>
          <p class="text-gray-600 dark:text-gray-400 mb-6">Deep dives into Python, Django, ML algorithms, and solving real-world development challenges. Learn from my experiences and discoveries.</p>
          <a href="/blog" class="inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-all font-medium btn-primary">
            Read Latest Posts â†’
          </a>
        </div>
        
        <div class="bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg p-8 text-center border border-green-200 dark:border-green-800 hover-lift transition-all card-animate animate-on-scroll">
          <div class="text-4xl mb-4">ğŸš€</div>
          <h3 class="text-2xl font-semibold mb-4">Projects & Work</h3>
          <p class="text-gray-600 dark:text-gray-400 mb-6">From ML-powered applications to scalable web platforms. See how I approach problems and build solutions that matter.</p>
          <a href="/portfolio" class="inline-block bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-all font-medium btn-primary">
            Explore Projects â†’
          </a>
        </div>
      </div>

      <!-- Secondary sections -->
      <div class="grid md:grid-cols-4 gap-6 mb-12" data-stagger>
        <a href="/about" class="bg-white dark:bg-gray-800 rounded-lg p-6 text-center border border-gray-200 dark:border-gray-700 hover-lift transition-all group card-animate animate-on-scroll">
          <div class="text-3xl mb-3 group-hover:scale-110 transition-transform">ğŸ‘¨â€ğŸ’»</div>
          <h4 class="font-semibold mb-2">About Me</h4>
          <p class="text-sm text-gray-600 dark:text-gray-400">My journey as a software developer</p>
        </a>
        
        <a href="/uses" class="bg-white dark:bg-gray-800 rounded-lg p-6 text-center border border-gray-200 dark:border-gray-700 hover-lift transition-all group card-animate animate-on-scroll">
          <div class="text-3xl mb-3 group-hover:scale-110 transition-transform">âš¡</div>
          <h4 class="font-semibold mb-2">My Stack</h4>
          <p class="text-sm text-gray-600 dark:text-gray-400">Tools & technologies</p>
        </a>
        
        <a href="/resources" class="bg-white dark:bg-gray-800 rounded-lg p-6 text-center border border-gray-200 dark:border-gray-700 hover-lift transition-all group card-animate animate-on-scroll">
          <div class="text-3xl mb-3 group-hover:scale-110 transition-transform">ğŸ“š</div>
          <h4 class="font-semibold mb-2">Resources</h4>
          <p class="text-sm text-gray-600 dark:text-gray-400">Learning materials</p>
        </a>
        
        <a href="/now" class="bg-white dark:bg-gray-800 rounded-lg p-6 text-center border border-gray-200 dark:border-gray-700 hover-lift transition-all group card-animate animate-on-scroll">
          <div class="text-3xl mb-3 group-hover:scale-110 transition-transform">ğŸ¯</div>
          <h4 class="font-semibold mb-2">Now!</h4>
          <p class="text-sm text-gray-600 dark:text-gray-400">Current focus</p>
        </a>
      </div>

      <!-- Featured Blog Posts Section -->
      <section aria-label="Latest blog posts" class="mt-16 pt-12 border-t border-gray-200 dark:border-gray-700">
        <div class="text-center mb-8">
          <h2 class="text-3xl font-bold mb-2 animate-on-scroll">Latest Blog Posts</h2>
          <p class="text-gray-600 dark:text-gray-400 animate-on-scroll">Deep dives into the topics I'm passionate about</p>
        </div>

        <div class="grid md:grid-cols-3 gap-6 mb-8" data-stagger>
          {latestPosts.map((post) => (
            <article class="bg-white dark:bg-gray-800 rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700 hover-lift transition-all card-animate animate-on-scroll group">
              <div class="p-6">
                <div class="flex items-start justify-between mb-3">
                  <time class="text-xs font-semibold text-blue-600 dark:text-blue-400 uppercase tracking-wide">
                    {formatDate(post.data.pubDate)}
                  </time>
                </div>
                <h3 class="text-lg font-semibold mb-3 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors">
                  <a href={`/blog/${post.slug}`}>
                    {post.data.title}
                  </a>
                </h3>
                <p class="text-sm text-gray-600 dark:text-gray-400 mb-4 line-clamp-2">
                  {post.data.description}
                </p>
                {post.data.tags && (
                  <div class="flex flex-wrap gap-1 mb-4">
                    {post.data.tags.slice(0, 2).map((tag) => (
                      <span class="text-xs bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-2 py-1 rounded">
                        {tag}
                      </span>
                    ))}
                    {post.data.tags.length > 2 && (
                      <span class="text-xs text-gray-500">+{post.data.tags.length - 2}</span>
                    )}
                  </div>
                )}
                <a href={`/blog/${post.slug}`} class="inline-flex items-center text-blue-600 dark:text-blue-400 hover:underline text-sm font-medium">
                  Read More â†’
                </a>
              </div>
            </article>
          ))}
        </div>

        <div class="text-center">
          <a href="/blog" class="inline-block bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100 px-8 py-3 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-all font-medium border border-gray-200 dark:border-gray-700">
            View All Posts â†’
          </a>
        </div>
      </section>

      <!-- Additional sections -->
      <div class="grid md:grid-cols-3 gap-6 mt-16" data-stagger>
        <a href="/speaking" class="bg-purple-50 dark:bg-purple-900/20 rounded-lg p-6 text-center border border-purple-200 dark:border-purple-800 hover-lift transition-all card-animate animate-on-scroll">
          <div class="text-3xl mb-3">ğŸ¤</div>
          <h4 class="font-semibold mb-2">Speaking</h4>
          <p class="text-sm text-gray-600 dark:text-gray-400">Conference talks & knowledge sharing</p>
        </a>
        
        <a href="/games" class="bg-pink-50 dark:bg-pink-900/20 rounded-lg p-6 text-center border border-pink-200 dark:border-pink-800 hover-lift transition-all card-animate animate-on-scroll">
          <div class="text-3xl mb-3">ğŸ®</div>
          <h4 class="font-semibold mb-2">Interactive Games</h4>
          <p class="text-sm text-gray-600 dark:text-gray-400">Pixel art, ASCII drawer & more</p>
        </a>
        
        <a href="/contact" class="bg-orange-50 dark:bg-orange-900/20 rounded-lg p-6 text-center border border-orange-200 dark:border-orange-800 hover-lift transition-all card-animate animate-on-scroll">
          <div class="text-3xl mb-3">ğŸ’¬</div>
          <h4 class="font-semibold mb-2">Let's Connect</h4>
          <p class="text-sm text-gray-600 dark:text-gray-400">Start a conversation</p>
        </a>
      </div>

      <!-- Call to Action & Quick Links -->
      <div class="mt-12 pt-8 border-t border-gray-200 dark:border-gray-700 animate-on-scroll">
        <div class="text-center mb-8">
          <h3 class="text-xl font-semibold mb-2">Ready to Connect?</h3>
          <p class="text-gray-600 dark:text-gray-400 mb-6">Whether you want to collaborate, have questions, or just say hi!</p>
          <a href="/contact" class="inline-block custom-gradient-bg text-white px-8 py-3 rounded-lg hover:from-blue-600 hover:to-purple-600 transition-all font-medium btn-primary hover-lift">
            Get In Touch
          </a>
        </div>
        
        <div class="flex flex-wrap justify-center items-center gap-6 text-sm" data-stagger>
          <a href="/rss.xml" class="text-orange-600 dark:text-orange-400 hover:underline flex items-center transition-colors link-glow animate-on-scroll">
            <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
              <path d="M3.429 2.4A17.5 17.5 0 0118 18h-2.5a15 15 0 00-15-15v-2.5zM3.429 7.9A7.5 7.5 0 0111 15.5H8.5a5 5 0 00-5-5V7.9zM6.4 13.6a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"></path>
            </svg>
            Stay Updated
          </a>
          <span class="text-gray-300 dark:text-gray-600 animate-on-scroll">â€¢</span>
          <a href="/search" class="text-blue-600 dark:text-blue-400 hover:underline flex items-center transition-colors link-glow animate-on-scroll">
            <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
            Find Content
          </a>
          <span class="text-gray-300 dark:text-gray-600 animate-on-scroll">â€¢</span>
          <a href="/resume" class="text-gray-600 dark:text-gray-400 hover:underline flex items-center transition-colors link-glow animate-on-scroll">
            <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
            </svg>
            Download CV
          </a>
        </div>
      </div>
    </nav>
  </div>

  <!-- Homepage structured data: ItemList for latest posts -->
  <script type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "ItemList",
    "name": "Latest Blog Posts by Mangesh Bide",
    "itemListOrder": "https://schema.org/ItemListOrderDescending",
    "numberOfItems": latestPosts.length,
    "itemListElement": latestPosts.map((post, i) => ({
      "@type": "ListItem",
      "position": i + 1,
      "url": `https://mangeshbide.tech/blog/${post.slug}`,
      "name": post.data.title
    }))
  })} />

  <!-- FAQ Schema for SERP rich snippets -->
  <script type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "What does Mangesh Bide specialize in?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Mangesh Bide is a Software Developer specializing in Python, Django, and Machine Learning. He builds robust backend APIs, scalable web applications, and intelligent ML-powered solutions."
        }
      },
      {
        "@type": "Question",
        "name": "What topics does Mangesh Bide write about?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Mangesh writes about backend development with Python and Django, machine learning algorithms and applications, web development best practices, API design, cloud solutions, and data engineering."
        }
      },
      {
        "@type": "Question",
        "name": "How can I contact Mangesh Bide?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "You can reach Mangesh through the contact page at mangeshbide.tech/contact, connect on GitHub at github.com/1mangesh1, or find him on LinkedIn and Twitter."
        }
      }
    ]
  })} />
</Layout>

<script>
  // Typing animation for hero section
  const typingText = document.getElementById('typing-text');
  const cursor = document.getElementById('cursor');
  
  if (typingText && cursor) {
    const words = [
      'Backend Development',
      'Machine Learning',
      'API Design',
      'Django Applications',
      'Python Automation',
      'Data Processing',
      'Cloud Solutions',
      'Web Development',
      'Data Engineering',
    ];
    
    let wordIndex = 0;
    let charIndex = 0;
    let isDeleting = false;
    const typeSpeed = 100;
    const deleteSpeed = 50;
    const pauseTime = 2000;
    
    const type = () => {
      const currentWord = words[wordIndex];
      
      if (isDeleting) {
        typingText.textContent = currentWord.substring(0, charIndex - 1);
        charIndex--;
        
        if (charIndex === 0) {
          isDeleting = false;
          wordIndex = (wordIndex + 1) % words.length;
          setTimeout(type, 500);
          return;
        }
        
        setTimeout(type, deleteSpeed);
      } else {
        typingText.textContent = currentWord.substring(0, charIndex + 1);
        charIndex++;
        
        if (charIndex === currentWord.length) {
          isDeleting = true;
          setTimeout(type, pauseTime);
          return;
        }
        
        setTimeout(type, typeSpeed);
      }
    };
    
    // Start typing animation after a short delay
    setTimeout(() => {
      type();
    }, 1000);
  }
</script>
